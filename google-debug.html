<!DOCTYPE html>
<html lang="tr">
<meta charset="utf-8">
<title>Google Debug</title>

<h2>Google giriş testi</h2>
<button id="g">Google ile giriş yap</button>
<pre id="log" style="background:#f3f4f6;padding:10px;border-radius:8px;margin-top:12px"></pre>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
import { getAuth, GoogleAuthProvider, signInWithRedirect, getRedirectResult } 
  from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";

// Firebase yapılandırması
const app = initializeApp({
  apiKey:"AIzaSyAnMzCWonT_zLi0EnChIDYANBhDiiwmur4",
  authDomain:"self-training-128b5.firebaseapp.com",
  projectId:"self-training-128b5"
});
const auth = getAuth(app);
auth.languageCode="tr";
const provider = new GoogleAuthProvider();

// Butona tıklanınca Google girişini başlat
document.getElementById("g").onclick = ()=>signInWithRedirect(auth, provider);

// Geri dönüş (redirect) sonucunu yakala
getRedirectResult(auth)
  .then(r=>{
    if(r?.user){
      document.getElementById("log").textContent =
        "✅ Giriş başarılı: " + (r.user.email || "(email yok)") +
        "\nUID: " + r.user.uid;
    }
  })
  .catch(e=>{
    document.getElementById("log").textContent =
      "❌ Hata kodu: " + e.code + "\nMesaj: " + e.message;
  });
</script>
</html>
